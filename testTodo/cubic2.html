<style>
  body:hover div {
    transform: translateX(400px);
  }

  canvas {
    display: block;
  }

  div {
    transition-duration: 5s;
    transition-property: transform;
    width: fit-content;
    background: lightblue;
    margin: 10px;
    border: 1px solid blue;
    display: flex;
  }
</style>
<h1>hello sunshine</h1>


<script type="module">
  import { Transitions } from "../src/transitions.js";


  function drawFunction(points, i = 250) {
    const canvas = document.createElement("canvas");
    const padding = i / 5;
    canvas.width = 2 * padding + i;
    canvas.height = 2 * padding + i;
    const ctx = canvas.getContext("2d");
    ctx.lineWidth = 3;
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "red";
    ctx.beginPath();
    ctx.arc(canvas.width / 2, canvas.height / 2, 6, 0, 2 * Math.PI);
    ctx.fill();
    let c = 0;
    for (let p = 0; p < points.length; p++) {
      const y = points[p];
      const x = p / (points.length - 1);
      ctx.fillStyle = c++ % 2 ? "green" : "black";
      ctx.beginPath();
      ctx.arc(padding + x * i, padding + (i - y * i), 2, 0, 2 * Math.PI);
      ctx.fill();
    }
    return canvas;
  }

  function numFixed(decimals, p) {
    decimals = 10 ** decimals;
    return Math.round(p * decimals) / decimals;
  }
  function runTest(name, curve, resStr, expected) {
    // const resStr = curve.map(numFixed.bind(null, 3)).join(",");
    const expectedStr = expected?.join(","); // use emoji
    const result = resStr === expectedStr ? "✅" : "❌";
    if (result === "❌") {
      console.error("FAILED", name);
      console.log("Expected:", expectedStr);
      console.log("Got     :", resStr);
    }
    document.body.append(document.createElement("hr"));
    document.body.append(drawFunction(curve));
    document.body.insertAdjacentHTML("beforeend",
      `<div style="transition-timing-function: linear(${resStr})">${name + result}</div>`);
  }
  for (let [name, curve] of Object.entries(Transitions.WAVES))
    runTest(name, curve, Transitions.WAVE_STRINGS[name]);
</script>