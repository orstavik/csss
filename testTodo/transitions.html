<script src="../src/auto.js?style=style&interval=400" type="module"></script>

<body class="$block((--transition-duration,2s))">
  <input type="range" id="speed" min="0.5" max="5" step="0.1" value="2" />
  <script>
    document.currentScript.previousElementSibling.oninput = e =>
      document.documentElement.style.setProperty("--transition-duration", e.target.value + "s");
  </script>
  <select name="one" id="one"></select>
  <select name="two" id="two"></select>
  <div>
    <div id="testOne" class=":hover>*$marginLeft(200px) $bg(#orange) $w(100px)">one</div>
    <div id="testTwo" class="$bg(#pink) $w(100px) :hover>*$marginLeft(200px)">two</div>
  </div>
  <script>
    window.tests = [
      "ease",
      "linear",
      "easeIn",
      "easeOut",
      "easeInOut",

      "crispIn",
      "crispOut",
      "crispInOut",
      "harshOut",
      "harshIn",
      "harshInOut",
      "playfulIn",
      "playfulOut",
      "playfulInOut",
      "bounceIn",
      "bounceOut",
      "bounceInOut",
      "easeInCrispOut",
      "easeInHarshOut",
      "easeInPlayfulOut",
      "easeInBounceOut",
      "crispInEaseOut",
      "crispInHarshOut",
      "crispInPlayfulOut",
      "crispInBounceOut",
      "harshInEaseOut",
      "harshInCrispOut",
      "harshInPlayfulOut",
      "harshInBounceOut",
      "playfulInEaseOut",
      "playfulInCrispOut",
      "playfulInHarshOut",
      "playfulInBounceOut",
      "bounceInEaseOut",
      "bounceInCrispOut",
      "bounceInHarshOut",
      "bounceInPlayfulOut",
    ];
    const one = document.getElementById("one");
    const two = document.getElementById("two");
    const testOne = document.getElementById("testOne");
    const testTwo = document.getElementById("testTwo");
    for (let t of window.tests) {
      one.insertAdjacentHTML("beforeend", `<option value="$${t}((--transition-duration,2s))">${t}</option>`);
      two.insertAdjacentHTML("beforeend", `<option value="$${t}((--transition-duration,2s))">${t}</option>`);
    }


    one.oninput = two.oninput = e => {
      testOne.now && testOne.classList.remove(testOne.now);
      testTwo.now && testTwo.classList.remove(testTwo.now);
      testOne.classList.add(testOne.now = one.selectedOptions[0].value);
      testTwo.classList.add(testTwo.now = two.selectedOptions[0].value);
      //set the class
    };

  </script>

  <!-- <div id="left">
    <script>

      function drawCurve(name, x1, y1, x2, y2) {
        const canvas = document.createElement("canvas");
        canvas.width = 150; canvas.height = 150;
        const ctx = canvas.getContext("2d");
        ctx.clearRect(0, 0, 150, 150);
        ctx.strokeStyle = "#ccc";
        ctx.lineWidth = 1;
        ctx.strokeRect(10, 10, 130, 130);

        ctx.beginPath();
        ctx.moveTo(10, 140);
        ctx.bezierCurveTo(
          10 + x1 * 130, 140 - y1 * 130,
          10 + x2 * 130, 140 - y2 * 130,
          140, 10
        );
        ctx.strokeStyle = "#007bff";
        ctx.lineWidth = 2;
        ctx.stroke();

        // control lines
        ctx.strokeStyle = "#999";
        ctx.beginPath();
        ctx.moveTo(10, 140);
        ctx.lineTo(10 + x1 * 130, 140 - y1 * 130);
        ctx.lineTo(10 + x2 * 130, 140 - y2 * 130);
        ctx.lineTo(140, 10);
        ctx.stroke();
        return canvas;
      }

      const parent = document.currentScript.parentElement;
      for (let [k, v] of Object.entries(SETTINGS))
        parent.insertAdjacentElement("beforeend", drawCurve(k, ...v.split(",").map(Number)));
    </script>
  </div>
  <div id="right"></div>
  <script>
    const div = document.getElementById("right");
    div.innerHTML = Object.entries(SETTINGS).map(([k, v]) =>
      `<span class="title">${k}:</span><span class="bluebar ${k}">_</span><br />`).join("\n");
  </script>

  <script src=""></script> -->

</body>