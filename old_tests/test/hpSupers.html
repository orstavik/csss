<test-html title="Holy Grail Layout">
  <main csss="
      $hg = $grid(rows(auto,1fr,auto),cols(auto,1fr,auto),gap(1rem))$h(100vh);
      $hg.header = $column(1,4);
      $hg.footer = $column(1,4);
      $hg.left = $column(1,2);
      $hg.right = $column(3,4);
      $hg.main = $column(2,3);
  ">
    <script type="module">
      import { registerShort } from '/src/engine.js';
      await new Promise(r => setTimeout(r, 100));
      registerShort('grid.hg', () => {
        return ({
          gridTemplateRows: "auto 1fr auto",
          gridTemplateColumns: "auto 1fr auto",
          gap: "1rem",
          blockSize: "100vh"
        })
      });
      registerShort('_grid.hgHeader', function () { return this.column(1, 4); });
      registerShort('_grid.hgFooter', function () { return this.column(1, 4); });
      registerShort('_grid.hgLeft', function () { return this.column(1, 2); });
      registerShort('_grid.hgRight', function () { return this.column(3, 4); });
      registerShort('_grid.hgMain', function () { return this.column(2, 3); });
    </script>
    <div class="
                $grid(hg)
                |header$_grid(hgHeader)
                |.left$_grid(hgLeft)
                |main$_grid(hgMain)
                |aside.right$_grid(hgRight)
                |.footer$_grid(hgFooter)
    ">
      <header class="header $bg(azure) $border">
        <h1>Header</h1>
      </header>
      <aside class="left $bg(lightgreen) $border">
        <h2>Left Sidebar</h2>
        <p>Navigation links could go here</p>
        <ul>
          <li>Home</li>
          <li>About</li>
          <li>Services</li>
          <li>Contact</li>
        </ul>
      </aside>
      <main class="$bg(white) $border">
        <h2>Main Content</h2>
        <p>This is the main content area of the page. In a real website, this would contain the primary content.</p>
        <p>The Holy Grail layout is a classic web design pattern with header, footer, main content, and two sidebars.
        </p>
        <p>Using CSS Grid makes this layout much simpler than older techniques that required floats and negative
          margins.</p>
      </main>
      <aside class="right |:nth-child(3)$margin(1rem,0)">
        <h2>Right Sidebar</h2>
        <p>Additional information, ads, or related content could go here.</p>
        <div class="$padding(0.5rem) $bg(white) $border">
          <h3>Related Article</h3>
          <p>Check out our guide to CSS layout techniques!</p>
        </div>
      </aside>
      <footer class="footer $bg(lightblue) $border">
        <h2>Footer</h2>
        <p>Copyright Â© 2024 Example Company</p>
      </footer>
    </div>
  </main>
  <style>
    @layer items, container;

    @layer container {
      .\$bg\(azure\) {
        background-image: linear-gradient(azure);
        background-position: 0% 0%;
        background-repeat: repeat;
        background-size: auto;
        background-origin: padding-box;
        background-clip: border-box;
        background-blend-mode: normal;
        background-attachment: scroll;
      }

      .\$border {
        border-style: solid;
      }

      .\$bg\(lightgreen\) {
        background-image: linear-gradient(lightgreen);
        background-position: 0% 0%;
        background-repeat: repeat;
        background-size: auto;
        background-origin: padding-box;
        background-clip: border-box;
        background-blend-mode: normal;
        background-attachment: scroll;
      }

      .\$bg\(white\) {
        background-image: linear-gradient(white);
        background-position: 0% 0%;
        background-repeat: repeat;
        background-size: auto;
        background-origin: padding-box;
        background-clip: border-box;
        background-blend-mode: normal;
        background-attachment: scroll;
      }

      .\$padding\(0\.5rem\) {
        padding: 0.5rem;
      }

      .\$bg\(lightblue\) {
        background-image: linear-gradient(lightblue);
        background-position: 0% 0%;
        background-repeat: repeat;
        background-size: auto;
        background-origin: padding-box;
        background-clip: border-box;
        background-blend-mode: normal;
        background-attachment: scroll;
      }

      .\$grid\(hg\) {
        display: grid;
        word-spacing: unset;
        line-height: unset;
        white-space: unset;
        hyphens: unset;
        text-align: unset;
        text-indent: unset;
        grid-template-rows: auto 1fr auto;
        grid-template-columns: auto 1fr auto;
        gap: 1rem;
        block-size: 100vh;
      }
    }

    @layer items {
      .\|\:nth-child\(3\)\$margin\(1rem\,0\)> :where(:nth-child(3)) {
        margin: 1rem 0px;
      }

      .\|header\$_grid\(hgHeader\)> :where(header) {
        grid-column: 1 / 4;
      }

      .\|\.footer\$_grid\(hgFooter\)> :where(.footer) {
        grid-column: 1 / 4;
      }

      .\|\.left\$_grid\(hgLeft\)> :where(.left) {
        grid-column: 1 / 2;
      }

      .\|aside\.right\$_grid\(hgRight\)> :where(aside.right) {
        grid-column: 3 / 4;
      }

      .\|main\$_grid\(hgMain\)> :where(main) {
        grid-column: 2 / 3;
      }
    }
  </style>
</test-html>

<!-- 
$twoCol = $grid(template(auto 1fr / 3fr 1fr))$gap(2rem);
$twoColMain = $grid(column(1 / 2));
$twoColSidebar = $grid(column(2 / 3));

$dashboard = $grid(template(60px 1fr / 250px 1fr))$h(100vh);
$dashboardHeader = $grid(column(1 / 3))$flex(center,between)$padding(1rem);
$dashboardSidebar = $grid(column(1 / 2))$grid(row(2 / 3));
$dashboardContent = $grid(column(2 / 3))$grid(row(2 / 3))$overflow(auto);

$card = $flex(column)$border(radius(8px))$overflow(hidden)$shadow(sm);
$cardHeader = $padding(1rem)$flex(center,between);
$cardImage = $w(100%)$h(200px)$object(cover);
$cardContent = $padding(1rem)$flex(1);
$cardFooter = $padding(1rem)$bg(neutral-100);

$productCard = $flex(column)$border(radius(8px))$border$padding(1rem)$gap(0.5rem)$h(100%);
$productImage = $w(100%)$h(180px)$object(contain);
$productTitle = $font(bold)$margin(0.5rem,0);
$productPrice = $font(lg,bold)$color(primary);
$productActions = $flex(center,end)$margin(auto,0,0);

$featureCard = $padding(1.5rem)$flex(column,center,center)$text(center)$gap(1rem);
$featureIcon = $w(60px)$h(60px)$margin(0,auto,1rem);

$cardGrid = $grid(cols(repeat(auto-fit,minmax(280px,1fr))))$gap(2rem);

$gallery = $grid(cols(repeat(auto-fill,minmax(200px,1fr))))$gap(1rem);
$galleryItem = $aspect(1/1)$overflow(hidden);
$galleryImage = $w(100%)$h(100%)$object(cover);

$masonry = $columns(3)$gap(1rem);
$masonryItem = $break-inside(avoid)$margin(0,0,1rem);

$navbar = $flex(center,between)$padding(1rem)$sticky(top)$bg(white)$shadow(sm);
$navbarBrand = $flex(center)$gap(0.5rem)$font(xl,bold);
$navbarLinks = $flex(center)$gap(1.5rem);

$hero = $grid(place(center))$padding(3rem,1rem)$min-h(80vh)$bg(cover,center)$text(center);
$heroContent = $max-w(800px)$padding(2rem)$flex(column,center,center)$gap(2rem);

$footer = $padding(4rem,1rem)$bg(neutral-900)$color(white);
$footerGrid = $grid(cols(repeat(auto-fit,minmax(200px,1fr))))$gap(2rem);
$footerBottom = $padding(1rem,0)$flex(center,between)$border(top);

$formGrid = $grid(cols(1fr))$gap(1.5rem);
$formRow = $flex(column)$gap(0.5rem);
$formGroup = $grid(cols(auto,1fr))$gap(1rem)$align(center);

$mediaObject = $flex(start)$gap(1rem);
$mediaImage = $w(60px)$h(60px)$object(cover);
$mediaBody = $flex(1)$flex(column)$gap(0.5rem);

$cta = $padding(3rem,1rem)$text(center)$bg(primary-50);
$ctaContent = $max-w(600px)$margin(0,auto)$flex(column,center,center)$gap(2rem);


$stickyFooter = $grid(template(auto 1fr auto / 1fr))$gap(1rem)$min-h(100vh);
$stickyFooterContent = $grid(column(1 / 3))$grid(row(2 / 3))$padding(1rem);
$stickyFooterFooter = $grid(column(1 / 3))$grid(row(3 / 4))$padding(1rem)$bg(neutral-100);

 -->