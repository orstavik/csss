<script type="module">
  import * as CSSS from "/src/csss.js";
  import runTests from "/shots/mdTester.js";

  document.head.append(document.createElement('style'));
  const tester = document.head.lastElementChild.sheet;
  function normalizeCss(ruleTxt) { return tester.cssRules[tester.insertRule(ruleTxt, 0)].cssText; }

  function test({ csss, css }) {
    const key = csss.value, b = css.value;
    return {
      key,
      actual: normalizeCss(CSSS.parse(key).cssText),
      expected: normalizeCss(b)
    };
  }

  //runTests("hpBorder,hpLayout,hpCalVar,hpBg,hpOne,hpOne2,hpTwo", test);
  runTests("blockCombined,blockContainer,blockItem,colorSpaces,flexCombined,flexContainer,flexItem,gap,gridCombined,gridContainer,gridItem,how2UseGradientColors,margin,gradientFunctions", test);
  //gradientFunctions.md has errors because of conic gradient
</script>