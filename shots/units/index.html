<script type="module">
  import { parseCssShorts } from "/src/engine.js";
  import runTests from "/shots/mdTester.js";

  document.head.append(document.createElement('style'));
  const tester = document.head.lastElementChild.sheet;
  function normalizeCss(ruleTxt) { return tester.cssRules[tester.insertRule(ruleTxt, 0)].cssText; }

  function test({ csss, css }) {
    const key = csss.value, b = css.value;
    return {
      key,
      actual: normalizeCss(parseCssShorts(key).cssText),
      expected: normalizeCss(b)
    };
  }

  runTests("hpBorder,hpLayout,hpCalVar,hpBg,hpOne,hpOne2,hpTwo", test);
</script>