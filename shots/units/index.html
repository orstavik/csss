<script type="module">
  import * as CSSS from "/src/csss.js";
  import runTests from "/shots/mdTester.js";

  // document.head.append(document.createElement('style'));
  // const tester = document.head.lastElementChild.sheet;
  // function normalizeCss(ruleTxt) { return tester.cssRules[tester.insertRule(ruleTxt, 0)].cssText; }

  // debugger
  // // CSSS.parse("$w(2)"); //ok
  // CSSS.parse("$w(2-4vw)");
  // debugger
  // CSSS.parse("$w((2)-4vw)");
  // CSSS.parse("$w(2px+(3px*2)-4vw)");
  function test({ csss, css }) {
    const key = csss.value, b = css.value;
    const actual = CSSS.parse(key);
    return {
      key,
      actual: [actual.atRuleText, actual.cssText].filter(Boolean).join("\n\n"),
      expected: b
    };
  }

  //runTests("hpBorder,hpLayout,hpCalVar,hpBg,hpOne,hpOne2,hpTwo", test);
  runTests("blockCombined,blockContainer,blockItem,flexCombined,flexContainer,flexItem,gap,gridCombined,gridContainer,gridItem,colorSpaces,how2UseGradientColors,gradientFunctions,font,transitions,margin", test);
  //gradientFunctions.md has errors because of conic gradient
</script>